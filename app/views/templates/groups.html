<div class="flex flex-col align-right" id="groups">
    <div class="flex flex-row">
        <span class="spacer"></span>
        <i class="icon-button icon-xl fa-solid fa-xmark"
            hx-trigger="click"
            hx-target="#groups"
            hx-swap="outerHTML"
            hx-get="hx/groups/readonly"></i>
    </div>
    <span style="height: 50px;"></span>
    <form hx-post="hx/groups" hx-trigger="group_sort" hx-swap="none" id="form-groups"></form>
    <div class="flex flex-col gap-5">
        <div class="sortable flex flex-col gap-25 align-center" _="on end halt the event send group_sort to #form-groups">
            {% for group in groups %}
            <div class="border-1-6 width-650 gap-15 padding-15 flex flex-row">
                <input type="hidden" name="ids" value="{{ group.id }}" form="form-groups">
                <i class="sort-handle icon-sm fa-solid fa-grip-vertical"></i>
                <div class="flex flex-col flex-grow-1">
                    <div class="mb-5">
                        {% with group=group %}
                            {% include 'group.html' %}
                        {% endwith %}
                    </div>
                    <form id="form-group-{{ group.id }}-marks"
                        hx-trigger="mark_sort"
                        hx-post="hx/marks"
                        hx-swap="none"
                        hx-vals='{"group_id": "{{ group.id }}"}'></form>
                        <div  class="sortable"
                            _="on end halt the event send mark_sort to #form-group-{{ group.id }}-marks"
                            id="group-{{ group.id }}-marks">
                            {% for mark in group.marks %}
                                {% include 'mark.html' %}
                            {% endfor %}
                        </div>
                    <div class="padding-5 show-hover mt-15 mb-10 mr-15 ml-15 flex flex-col align-center add-bar"
                        hx-trigger="click"
                        hx-post="hx/mark"
                        hx-target="#group-{{ group.id }}-marks"
                        hx-swap="beforeend"
                        hx-vals='{"group_id": "{{ group.id }}"}'>
                        <!--<i class="margin-10 icon-lg fa-solid fa-plus"></i>-->
                        <span class="fs-12">click to add new bookmark</span>
                    </div>
                </div>
                <i class="icon-button icon-lg fa-regular fa-trash-can"></i>
            </div>
            {% endfor %}
            <div class="show-hover mt-5 padding-10 flex flex-col align-center add-bar"
                style="width: 660px;">
                <span class="fs-18">click to add new group</span>
            </div>
        </div>
    </div>
</div>
